<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>Spring Security ACL Plugin 1.0.3</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
    </head>

    <body class="body" onload="addJsClass();">
        <div id="navigation">
            <ul>
                <li>
                    <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                        <a href="../guide/index.html" class="button">Table of contents</a>
                        <div id="nav-summary-childs" style="display:none;">
                            
                            <div class="toc-item" style="margin-left:0"><a href="#1.%20Introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#2.%20Usage"><strong>2</strong><span>Usage</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#3.%20Configuration"><strong>3</strong><span>Configuration</span></a></div>
                            
                        </div>
                    </div>
                </li>
                <li class="separator selected">
                    <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
                </li>
            </ul>
        </div>
        <div id="header">
            <div class="images clearfix">
                
                
            </div>
            <p>Jasig CAS support for the Spring Security plugin.</p>
        </div>


        <table id="colset" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td id="col1">
                    <div id="main" class="corner-all">

                        <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                        <div class="project">
                            <h1>Spring Security ACL Plugin - Reference Documentation</h1>
                            <p><strong>Authors:</strong> Burt Beckwith</p>
                            <p><strong>Version:</strong> 1.0.3</p>
                            
                        </div>

                        
                        <div id="table-of-content">
                            <h2>Table of Contents</h2>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#1.%20Introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#1.1%20History"><strong>1.1</strong><span>History</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#2.%20Usage"><strong>2</strong><span>Usage</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#3.%20Configuration"><strong>3</strong><span>Configuration</span></a></div>
                            
                            <div style="clear:both" ></div>
                        </div>
                        
                        

<h1 id="1. Introduction">1 Introduction</h1>
The CAS plugin adds <a href="http://www.jasig.org/cas" target="blank">CAS</a> single sign-on support to a Grails application that uses Spring Security. It depends on the <a href="http://grails.org/plugin/spring-security-core" target="blank">Spring Security Core plugin</a>.<p class="paragraph"/>Once you have configured a CAS server and have configured your Grails application(s) as clients, you can authenticate to any application that is a client of the CAS server and be automatically authenticated to all other clients.<p class="paragraph"/>


<h2 id="1.1 History">1.1 History</h2>
<ul class="star">
<li>Version 1.0.3</li>
<ul class="star">
<li>released July 4, 2012</li>
</ul>
<li>Version 1.0.2</li>
<ul class="star">
<li>released February 12, 2011</li>
</ul>
<li>Version 1.0.1</li>
<ul class="star">
<li>released September 1, 2010</li>
</ul>
<li>Version 1.0</li>
<ul class="star">
<li>released July 27, 2010</li>
</ul>
<li>Version 0.1</li>
<ul class="star">
<li>released June 18, 2010</li>
</ul></ul><p class="paragraph"/>


<h1 id="2. Usage">2 Usage</h1>
<blockquote class="note">
Configuring your CAS server is beyond the scope of this document. There are many different approaches and this will most likely be done by IT staff. It's assumed here that you already have a running CAS server.
</blockquote><p class="paragraph"/><a href="http://www.jasig.org/cas" target="blank">CAS</a> is a popular single sign-on implementation. It's open source and has an Apache-like license, and is easy to get started with but is also highly configurable. In addition it has clients written in Java, .Net, PHP, Perl, and other languages.<p class="paragraph"/>There isn't much that you need to do in your application to be a CAS client. Just install this plugin, and configure any required parameters and whatever optional parameters you want in Config.groovy. These are described in detail in <a href="../guide/single.html#3.%20Configuration" class="guide">Chapter 3</a> but typically you only need to set these properties<p class="paragraph"/><div class="code"><pre>grails.plugins.springsecurity.cas.loginUri = '/login'
grails.plugins.springsecurity.cas.serviceUrl = 'http://localhost:8080/your&#45;app&#45;name/j_spring_cas_security_check'
grails.plugins.springsecurity.cas.serverUrlPrefix = 'https://your&#45;cas&#45;server/cas'
grails.plugins.springsecurity.cas.proxyCallbackUrl = 'http://localhost:8080/your&#45;app&#45;name/secure/receptor'
grails.plugins.springsecurity.cas.proxyReceptorUrl = '/secure/receptor'</pre></div><p class="paragraph"/>where "your-app-name" is the Grails application context (will be blank if deployed as the default context) and "your-cas-server" is the name of your CAS server.<p class="paragraph"/><h4>Single Signout</h4><p class="paragraph"/>Single signout is enabled by default and enables signing out for all CAS-managed applications with one logout. This works best in the plugin when combined with the <code>afterLogoutUrl</code> parameter, for example:<p class="paragraph"/><div class="code"><pre>grails.plugins.springsecurity.logout.afterLogoutUrl =
     'https://your&#45;cas&#45;server/cas/logout?url=http://localhost:8080/your&#45;app&#45;name/'</pre></div><p class="paragraph"/>With this configuration, when a user logs out locally by navigating to <code>/logout/</code> they'll then be redirected to the CAS server's logout URL. This request includes a local URL to redirect back to afterwards. When the whole process is finished they'll be logged out locally and at the CAS server, so subsequent secure URLs at the local server or other CAS-managed servers will require a new login.<p class="paragraph"/>If you don't want the single signout filter registered, you can disable the feature:
<div class="code"><pre>grails.plugins.springsecurity.cas.useSingleSignout = <span class="java&#45;keyword">false</span></pre></div><p class="paragraph"/>


<h1 id="3. Configuration">3 Configuration</h1>
There are a few configuration options for the CAS plugin.<p class="paragraph"/><blockquote class="note">
All of these property overrides must be specified in <code>grails-app/conf/Config.groovy</code> using the <code>grails.plugins.springsecurity</code> suffix, for example
<div class="code"><pre>grails.plugins.springsecurity.cas.serverUrlPrefix =
     'https://cas&#45;server/cas'</pre></div>
</blockquote><p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Default</strong></th><th><strong class="bold">Meaning</strong></th></tr><tr class="table-odd"><td>cas.active</td><td><code>true</code></td><td>whether the plugin is enabled or not (e.g. to disable per-environment)</td></tr><tr class="table-even"><td>cas.serverUrlPrefix</td><td><code>null</code>, must be set</td><td>the 'root' of all CAS server URLs, e.g. <code>https://cas-server/cas</code></td></tr><tr class="table-odd"><td>cas.loginUri</td><td><code>null</code>, must be set</td><td>the login URI, relative to <code>cas.serverUrlPrefix</code>, e.g. <code>/login</code></td></tr><tr class="table-even"><td>cas.sendRenew</td><td><code>false</code></td><td>if true, ticket validation will only succeed if it was issued from a login form, but will fail if it was issued from a single sign-on session. Analagous to <code>IS_AUTHENTICATED_FULLY</code> in Spring Security</td></tr><tr class="table-odd"><td>cas.serviceUrl</td><td><code>null</code>, must be set</td><td>the local application login URL, e.g. <code>http://localhost:8080/myapp/j_spring_cas_security_check</code></td></tr><tr class="table-even"><td>cas.key</td><td>'grails-spring-security-cas', should be changed</td><td>used by <code>CasAuthenticationProvider</code> to identify tokens it previously authenticated</td></tr><tr class="table-odd"><td>cas.artifactParameter</td><td><code>'ticket'</code></td><td>the ticket login url parameter</td></tr><tr class="table-even"><td>cas.serviceParameter</td><td><code>'service'</code></td><td>the service login url parameter</td></tr><tr class="table-odd"><td>cas.filterProcessesUrl</td><td>'/j_spring_cas_security_check'</td><td>the URL that the filter intercepts for login</td></tr><tr class="table-even"><td>cas.proxyCallbackUrl</td><td><code>null</code>, should be set</td><td>proxy callback url, e.g. 'http://localhost:8080/myapp/secure/receptor'</td></tr><tr class="table-odd"><td>cas.proxyReceptorUrl</td><td><code>null</code>, should be set</td><td>proxy receptor url, e.g. '/secure/receptor'</td></tr><tr class="table-even"><td>cas.useSingleSignout</td><td><code>true</code></td><td>if <code>true</code> a <code>org.jasig.cas.client.session.SingleSignOutFilter</code> is registered in web.xml</td></tr></table><p class="paragraph"/>

                    </div>
                </td>
                <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
            </tr>
        </table>

        <div id="footer">
            
            
        </div>



<script type="text/javascript" src="../js/docs.js"></script>

    
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-16219500-1']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</body>
</html>
